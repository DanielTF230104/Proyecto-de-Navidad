{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class DragonBallApiService {\n  constructor(http) {\n    this.http = http;\n    this.baseUrl = 'https://dragonball-api.com/api/characters';\n  }\n  getPersonajePorNombre(nombre) {\n    const url = `${this.baseUrl}?name=${nombre}`;\n    return this.http.get(url);\n  }\n  getPersonajePorId(id) {\n    const url = `${this.baseUrl}/${id}`;\n    return this.http.get(url);\n  }\n  getPersonajes(filtros) {\n    const params = new URLSearchParams();\n    params.append('limit', '58');\n    if (filtros.gender) params.append('gender', filtros.gender);\n    if (filtros.race) params.append('race', filtros.race);\n    if (filtros.affiliation) params.append('affiliation', filtros.affiliation);\n    const url = `${this.baseUrl}?${params.toString()}`;\n    return this.http.get(url);\n  }\n  static {\n    this.ɵfac = function DragonBallApiService_Factory(t) {\n      return new (t || DragonBallApiService)(i0.ɵɵinject(i1.HttpClient));\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: DragonBallApiService,\n      factory: DragonBallApiService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n}","map":{"version":3,"names":["DragonBallApiService","constructor","http","baseUrl","getPersonajePorNombre","nombre","url","get","getPersonajePorId","id","getPersonajes","filtros","params","URLSearchParams","append","gender","race","affiliation","toString","i0","ɵɵinject","i1","HttpClient","factory","ɵfac","providedIn"],"sources":["/usr/src/app/010-Plantilla/010d-Plantilla-TODO/src/app/ejercicios/ejercicio01/servicios/dragon-ball-api.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { PersonajeAPI } from '../cruds/FiltrarPersonajes/interfaces/personaje-api';\nimport { FiltrosAPI } from '../cruds/FiltrarPersonajes/interfaces/filtros-api';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DragonBallApiService {\n  private baseUrl: string = 'https://dragonball-api.com/api/characters';\n\n  constructor(private http: HttpClient) { }\n\n  getPersonajePorNombre(nombre: string) {\n    const url = `${this.baseUrl}?name=${nombre}`;\n    return this.http.get<PersonajeAPI[]>(url);\n  }\n\n  getPersonajePorId(id: number) {\n    const url = `${this.baseUrl}/${id}`;\n    return this.http.get<PersonajeAPI>(url);\n  }\n\n  getPersonajes(filtros: FiltrosAPI) {\n    const params = new URLSearchParams();\n    params.append('limit', '58');\n    if (filtros.gender) params.append('gender', filtros.gender);\n    if (filtros.race) params.append('race', filtros.race);\n    if (filtros.affiliation) params.append('affiliation', filtros.affiliation);\n\n    const url = `${this.baseUrl}?${params.toString()}`;\n    return this.http.get<PersonajeAPI[]>(url);\n  }\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* \n// SEÑAL FILTRO\nasync getPersonajes(filtros: FiltrosAPI) {\n  const params = new URLSearchParams();\n  params.append('limit', '58');\n  if (filtros.gender) params.append('gender', filtros.gender);\n  if (filtros.race) params.append('race', filtros.race);\n  if (filtros.affiliation) params.append('affiliation', filtros.affiliation);\n\n  const url = `${this.baseUrl}?${params.toString()}`;\n  try {\n    const response = await fetch(url);\n    if (response.ok) {\n      const data = await response.json();\n      return data;\n    }\n  } catch (error) {\n    console.error('Error en getPersonajes():', error);\n    return [];\n  }\n} */"],"mappings":";;AAQA,OAAM,MAAOA,oBAAoB;EAG/BC,YAAoBC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;IAFhB,KAAAC,OAAO,GAAW,2CAA2C;EAE7B;EAExCC,qBAAqBA,CAACC,MAAc;IAClC,MAAMC,GAAG,GAAG,GAAG,IAAI,CAACH,OAAO,SAASE,MAAM,EAAE;IAC5C,OAAO,IAAI,CAACH,IAAI,CAACK,GAAG,CAAiBD,GAAG,CAAC;EAC3C;EAEAE,iBAAiBA,CAACC,EAAU;IAC1B,MAAMH,GAAG,GAAG,GAAG,IAAI,CAACH,OAAO,IAAIM,EAAE,EAAE;IACnC,OAAO,IAAI,CAACP,IAAI,CAACK,GAAG,CAAeD,GAAG,CAAC;EACzC;EAEAI,aAAaA,CAACC,OAAmB;IAC/B,MAAMC,MAAM,GAAG,IAAIC,eAAe,EAAE;IACpCD,MAAM,CAACE,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC;IAC5B,IAAIH,OAAO,CAACI,MAAM,EAAEH,MAAM,CAACE,MAAM,CAAC,QAAQ,EAAEH,OAAO,CAACI,MAAM,CAAC;IAC3D,IAAIJ,OAAO,CAACK,IAAI,EAAEJ,MAAM,CAACE,MAAM,CAAC,MAAM,EAAEH,OAAO,CAACK,IAAI,CAAC;IACrD,IAAIL,OAAO,CAACM,WAAW,EAAEL,MAAM,CAACE,MAAM,CAAC,aAAa,EAAEH,OAAO,CAACM,WAAW,CAAC;IAE1E,MAAMX,GAAG,GAAG,GAAG,IAAI,CAACH,OAAO,IAAIS,MAAM,CAACM,QAAQ,EAAE,EAAE;IAClD,OAAO,IAAI,CAAChB,IAAI,CAACK,GAAG,CAAiBD,GAAG,CAAC;EAC3C;;;uBAxBWN,oBAAoB,EAAAmB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;IAAA;EAAA;;;aAApBtB,oBAAoB;MAAAuB,OAAA,EAApBvB,oBAAoB,CAAAwB,IAAA;MAAAC,UAAA,EAFnB;IAAM;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}