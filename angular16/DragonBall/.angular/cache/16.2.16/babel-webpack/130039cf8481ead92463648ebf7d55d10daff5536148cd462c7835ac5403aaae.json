{"ast":null,"code":"import { signal } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./persiste-api-local.service\";\nexport let SenalMisPersonajesService = /*#__PURE__*/(() => {\n  class SenalMisPersonajesService {\n    constructor(persisteApiLocal) {\n      this.persisteApiLocal = persisteApiLocal;\n      this.listadoMisPersonajes = signal([]);\n      this.editaMiPersonaje = signal(undefined);\n    }\n    verificarYCrearTabla() {\n      this.persisteApiLocal.verificarYCrearTabla().subscribe({\n        next: response => {\n          console.log('Tabla verificada/creada:', response);\n          this.leerMisPersonajes();\n        },\n        error: error => {\n          console.error('Error al verificar/crear la tabla:', error);\n        }\n      });\n    }\n    leerMisPersonajes() {\n      this.persisteApiLocal.leerMisPersonajes().subscribe({\n        next: personajes => {\n          this.listadoMisPersonajes.set(personajes);\n        },\n        error: error => {\n          console.error('Error al leer los personajes:', error);\n        }\n      });\n    }\n    agregarMiPersonaje(miPersonaje) {\n      this.persisteApiLocal.grabarMiPersonaje(miPersonaje).subscribe({\n        next: response => {\n          console.log('Personaje agregado:', response);\n          this.leerMisPersonajes();\n        },\n        error: error => {\n          console.error('Error al agregar el personaje:', error);\n        }\n      });\n      this.editaMiPersonaje.set(undefined);\n    }\n    eliminarMiPersonaje(indice) {\n      this.persisteApiLocal.borrarMiPersonaje(indice).subscribe({\n        next: response => {\n          console.log('Personaje borrado:', response);\n          this.leerMisPersonajes();\n        },\n        error: error => {\n          console.error('Error al borrar el personaje:', error);\n        }\n      });\n    }\n    editarMiPersonaje(miPersonaje) {\n      this.editaMiPersonaje.set({\n        ...miPersonaje\n      });\n    }\n    static {\n      this.ɵfac = function SenalMisPersonajesService_Factory(t) {\n        return new (t || SenalMisPersonajesService)(i0.ɵɵinject(i1.PersisteApiLocalService));\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: SenalMisPersonajesService,\n        factory: SenalMisPersonajesService.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return SenalMisPersonajesService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}