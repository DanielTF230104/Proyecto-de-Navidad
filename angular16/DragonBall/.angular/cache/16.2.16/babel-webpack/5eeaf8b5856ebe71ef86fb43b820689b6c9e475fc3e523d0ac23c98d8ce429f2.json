{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport let PersisteApiLocalService = /*#__PURE__*/(() => {\n  class PersisteApiLocalService {\n    constructor(http) {\n      this.http = http;\n      this.baseUrl = 'http://localhost:3000/dbzDB/mispersonajes';\n    }\n    verificarYCrearTabla() {\n      const url = `${this.baseUrl}/crear-tabla`;\n      return this.http.get(url);\n    }\n    leerMisPersonajes() {\n      const url = `${this.baseUrl}/leer`;\n      return this.http.get(url);\n    }\n    // Función para generar un ID único basado en el nombre del personaje\n    generarIdUnico(nombre) {\n      let hash = 0;\n      if (nombre.length === 0) return hash.toString();\n      for (let i = 0; i < nombre.length; i++) {\n        const char = nombre.charCodeAt(i);\n        hash = (hash << 5) - hash + char; // Bitwise operation\n        hash |= 0; // Convert to 32-bit integer\n      }\n\n      return hash.toString(); // Devolvemos el ID como string\n    }\n\n    grabarMiPersonaje(personaje) {\n      // Generamos un ID único para el personaje antes de guardarlo\n      const idUnico = this.generarIdUnico(personaje.name);\n      // Convertir el ID único a número\n      personaje.id = parseInt(idUnico, 10); // Convertimos el ID único generado a un número\n      const url = `${this.baseUrl}/grabar`;\n      return this.http.post(url, personaje);\n    }\n    borrarMiPersonaje(id) {\n      const url = `${this.baseUrl}/borrar/${id}`;\n      return this.http.delete(url);\n    }\n    static {\n      this.ɵfac = function PersisteApiLocalService_Factory(t) {\n        return new (t || PersisteApiLocalService)(i0.ɵɵinject(i1.HttpClient));\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: PersisteApiLocalService,\n        factory: PersisteApiLocalService.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return PersisteApiLocalService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}