{"ast":null,"code":"import { signal } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./dragon-ball-api.service\";\nimport * as i2 from \"./senalMisPersonajes.service\";\nexport let SenalBuscaTFormaApiWebService = /*#__PURE__*/(() => {\n  class SenalBuscaTFormaApiWebService {\n    constructor(conexionApiWeb, senalMisPersonajes) {\n      this.conexionApiWeb = conexionApiWeb;\n      this.senalMisPersonajes = senalMisPersonajes;\n      this.listadoTransformaciones = signal([]);\n      this.editaTransformacion = signal(undefined);\n    }\n    buscarTransformaciones(nombre) {\n      this.conexionApiWeb.getPersonajePorNombre(nombre).subscribe(personaje => {\n        if (!personaje || personaje.length === 0) {\n          console.log('No se encontraron personajes con el nombre:', nombre);\n          return;\n        }\n        const id = personaje[0].id;\n        this.conexionApiWeb.getPersonajePorId(id).subscribe(personaje => {\n          // Asegurarnos de que las transformaciones estén presentes\n          const transformaciones = personaje.transformations || [];\n          // Crear el array combinado con el personaje primero y luego las transformaciones\n          const resultado = [{\n            id: personaje.id,\n            name: personaje.name,\n            ki: personaje.ki,\n            image: personaje.image\n          }, ...transformaciones // Spread operator para agregar las transformaciones al array\n          ];\n          // Almacenar el resultado en listadoTransformaciones\n          this.listadoTransformaciones.set(resultado); // Almacenamos el array combinado\n        });\n      });\n    }\n\n    eliminarTForma(indice) {\n      const copia = [...this.listadoTransformaciones()];\n      copia.splice(indice, 1);\n      this.listadoTransformaciones.set(copia);\n    }\n    editarTForma(transformacion) {\n      const editaMiPersonaje = {\n        name: transformacion.name,\n        ki: transformacion.ki\n      };\n      this.senalMisPersonajes.editaMiPersonaje.set({\n        ...editaMiPersonaje\n      });\n    }\n    static {\n      this.ɵfac = function SenalBuscaTFormaApiWebService_Factory(t) {\n        return new (t || SenalBuscaTFormaApiWebService)(i0.ɵɵinject(i1.DragonBallApiService), i0.ɵɵinject(i2.SenalMisPersonajesService));\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: SenalBuscaTFormaApiWebService,\n        factory: SenalBuscaTFormaApiWebService.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return SenalBuscaTFormaApiWebService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}